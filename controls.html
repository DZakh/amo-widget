<!DOCTYPE html>
<html>
<head>
  <script src="https://amo-tm.github.io/wip-host/sdk.js"></script>
<title>Page Title</title>
<style>
  body {
    font-family: "PT Sans";
    margin: 0;
    overflow-x: hidden;
  }

  .logo {
    margin-bottom: 13px;
  }

  .logo img {
    margin-top: 15px;
    margin-left: 15px;
    width: 123px;
  }

  .divider {
    width: 100%;
    height: 1px;
    background: #EFEFEF;
  }

  .title, .control {
    font-size: 15px;

    color: #313942;
  }

  .title {
    opacity: 0.5;
  }

  .control {
  }

  .block {
    display: flex;
    padding: 12px;
    padding-bottom: 11px;
  }

  .title-block {
    width: 156px;
    display: flex;
    justify-content: flex-end;
    flex-shrink: 0;
  }

  .control-block {
    margin-left: 32px;
  }

  .control {
    white-space: nowrap;
    text-overflow: ellipsis;
    display: block;
  }

</style>
</head>
<body>
  <div id="wrapper">
    <div class="block">
      <div class="title-block">
        <div class="title">Выберите поле:</div>
      </div>
      <div class="control-block">
        <div class="control" id="acc_control"></div>
      </div>
    </div>
    <div id="select"></div>
    <div id="input"></div>
    <div id="textarea"></div>
  </div>
  <script>
    const wrapper = document.getElementById('wrapper');
    wrapper.style.background = 'blue';

    const amo = window.AmoSDK();

    const elements = amo.elements();
  //   'inline-select'
  // 'field-mention'
  // textarea
  // input
  // select

    const inlineSelect = elements.create('inline-select', {
      items: [{ id: '', option: 'sss' }, { id: '23', option: 's23ss' }, { id: '21', option: 'sss121' }],
      name: 'sss',
    });

    inlineSelect.mount('#select')

      console.log('ON READY');

      amo.on('update:rpa-fields', (data) => {
        console.log('ON FIELDS', data);

        amo.request('rpa-fields').then((data) => {
          console.warn('REQUEST fields', data);
        });
        
        // controls.select.update({ items: [{ id: 'test', option: '...' }].concat(data.map(f => ({ id: f.id, option: f.title }))) });
      });

      const sss = (data) => {
        console.log('ON STATUESES', data);
      };

      amo.on('update:rpa-statuses', sss);

      amo.request('rpa-statuses').then((data) => {
        console.warn('REQUEST statuses', data);
      });


      amo.setInputValues({
        test: 'test'
      })

    

    // const mentions = document.getElementById('mentions');

    // const mention = new FieldMention(mentions, {
      // items: [{ id: 'test', option: '...' }, { id: 'nana', option: 'first option' }],
      // // name: 'test',
    // });

    // const select = document.getElementById('select');
    // const textarea = document.getElementById('textarea');
    // const input = document.getElementById('input');

    // new Input(input, {});
    // new Select(select, {
      // items: [{ id: 'test', option: '...' }, { id: 'nana', option: 'first option' }],
      // name: 'test',
    // });
    // new Textarea(textarea, {});

  </script>
</body>
</html>

