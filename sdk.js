!function(){/* eslint-disable */"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function n(n){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?t(Object(o),!0).forEach((function(t){e(n,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))}))}return n}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},o="object"==typeof r&&r&&r.Object===Object&&r,s="object"==typeof self&&self&&self.Object===Object&&self,c=(o||s||Function("return this")()).Symbol,a=Object.prototype,i=a.hasOwnProperty,u=a.toString,l=c?c.toStringTag:void 0;var d=function(e){var t=i.call(e,l),n=e[l];try{e[l]=void 0;var r=!0}catch(e){}var o=u.call(e);return r&&(t?e[l]=n:delete e[l]),o},f=Object.prototype.toString;var b=function(e){return f.call(e)},p=c?c.toStringTag:void 0;var y=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":p&&p in Object(e)?d(e):b(e)};var j=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var O=function(e){if(!j(e))return!1;var t=y(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};const v={ready:"ready","update:sb-fields":"update:sb-fields","update:sb-statuses":"update:sb-statuses"},g={"sb-fields":"sb-fields","sb-statuses":"sb-statuses"};window.Amo=()=>{let e=0;const t={},r=Object.values(v).reduce((e,t)=>n(n({},e),{},{[t]:new Set}),{}),o=e=>{window.parent.postMessage(e,"*")};return window.addEventListener("message",e=>{if(!e.data)return;const n=e.data,o=n.method,s=n.payload;switch(!0){case!!r[o]:{const e=r[o];e&&e.forEach(e=>{e(s)});break}case"response"===o:{const e=s.requestIdx,n=s.data;t[e](n),delete t[e];break}}}),{on:(e,t)=>{const n=r[e];n&&O(t)&&n.add(t)},off:(e,t)=>{const n=r[e];n&&n.delete(t)},request:n=>g[n]?new Promise(r=>{t[e]=r,o({method:"request",payload:{requestIdx:e,entity:n}}),e+=1}):Promise.resolve({error:"Unexpected requested entity."}),setInputValues:e=>{if(!e)return;const t=Object.values(e);if(!t.length)return;t.reduce((e,t)=>t instanceof String&&e,!0)&&o({method:"set:input-values",payload:{inputValuesChanges:e}})}}}}();
